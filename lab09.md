# **РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**


### **Факультет физико-математических и естественных наук**
### **Кафедра прикладной информатики и теории вероятностей**

---

# **ОТЧЕТ** 
# **ПО ЛАБОРАТОРНОЙ РАБОТЕ № 	9**
### дисциплина:	Операционные системы


### Студент: Казакова Виктория Алексеевна 
### Группа: НФИбд-01-20

###  **Москва**
### 2021

---
## **Цель работы:** 
### Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

---

## **Ход работы**

### **1.**	Ознакомилась с теоретическим материалом;

### **2.**	Ознакомилась с редактором vi; 

### **3.**	Выполнила упражнения, используя команды vi:

---

### ***Задание 1.***

### **1.**	Создала каталог с именем ~/work/os/lab06 (для создания каталога использовала команду mkdir, и команду cd для перезода в него) (рис.1);

![](https://sun1-14.userapi.com/impg/PVgVYdUCA5WNkpEpkdsZj39pWvc2QdTyGipaPA/Do00aFTwSbw.jpg?size=811x120&quality=96&sign=8e7ffbad399032c72221c35d8a6142a2&type=album)

*(рис.1 создание каталога)*

### **2.**	Перешла во вновь созданный каталог (использовала команду cd) (рис.2);

### **3.**	Вызвала vi и создала файл hello.sh (рис.2);

![](https://sun9-27.userapi.com/impg/V6Sbs0WCOX3Ms9M-WTMGOuyRSzRmBmPm2V7_Lw/0QIecWHNumc.jpg?size=778x76&quality=96&sign=77f67a02f38f8bf90aee87888c7eeced&type=album)

*(рис.2 переход в каталог, команда vi)*

### **4.**	Нажала клавишу «i» и ввела следующий текст (рис.3):
### #!/bin/bash 
### HELL=Hello 
### function hello { 
      LOCAL HELLO=World 
      echo $HELLO 
} 
### echo $HELLO 
### hello

![](https://sun9-43.userapi.com/impg/lG6ndrTJWl1dXF52l9z7w86TiK59L4r3Zm_A2A/5Sq05-QDSYU.jpg?size=828x303&quality=96&sign=f7c53202d5bafd78b68b0286e34cc13a&type=album)

*(рис.3 ввод текст в редактор)*

### **5.**	Нажала клавишу Esc для перехода в командный режим после завершения ввода текст (рис.3);

### **6.**	Нажала «:» для перехода в режим последней строки и внизу экрана появилось приглашение в виде двоеточия (рис.4);

![](https://sun9-22.userapi.com/impg/sQqCv6eCtgWVWH7mFEuJyOLUNm9GrluwNALdoQ/NMD-pKPMvT8.jpg?size=853x532&quality=96&sign=0bd08b93bfa4cb16532367753d95b120&type=album)

*(рис.4 приглашение внизу экрана)*

### **7.**	Нажала «w» (записать) и «q» (выйти), а затем нажала клавишу Enter для сохранения текста и завершения работы (рис.5);

![](https://sun9-35.userapi.com/impg/zMZ32yygZD-g7Ala8QHM2MvG0PYrC6VTm0tGMQ/O0SPoBDqcqQ.jpg?size=832x538&quality=96&sign=2d5ef815bade69db60ce562003e541ee&type=album)

*(рис.5 сохранение текста и завершение работы)*

### **8.**	Сделала файл исполняемым 
*chmod +x hello.sh* (рис.6);

![](https://sun9-18.userapi.com/impg/WjFkDLaMk-WemWrRZAOwusnlplB2Jgx8ER4yig/7FLDulh79X0.jpg?size=721x49&quality=96&sign=0943137dd2ea028b9f540e02a9bbdaa0&type=album)

*(рис.6 файл стал исполняемым)*

---

### ***Задание 2.***

### **1.**	Вызвала vi на редактирование файла: 
*vi ~/work/os/lab06/hello.sh* (рис.7);

![](https://sun9-3.userapi.com/impg/FyxZWs6Tl1YFSqCa0Eecgty9tRMVrIH9YiwyhQ/A0tfR_htRPs.jpg?size=445x46&quality=96&sign=f1850723e741a41a4232760b88c0b7be&type=album)

*(рис.7)*

### **2.**	Установила курсор в конец слова HELL второй строки (для этого использовала комбинации клавиш j-«вниз» (передвижение курсора вниз) и l-«вправо» (передвижение вправо)) (рис.8);

![](https://sun9-52.userapi.com/impg/S2KI1JqgnV4SFqi57U-t_ddym1hRw7wz0UXBHQ/2rmf4wOB9AM.jpg?size=538x175&quality=96&sign=cca65c6aba454d9d8a591eeb2a57b043&type=album)

*(рис.8)*

### **3.**	Перешла в режим вставки (клавиша «i») и заменила на HELLO (клавиша «а»). Нажала Esc для возврата в командный режим (рис.9);
 
![](https://sun9-34.userapi.com/impg/m8vK-G8z56OnwJKLYWWu68GGvc13N3PpDmfBug/Bs62yLc1dj8.jpg?size=787x211&quality=96&sign=980088a945cb24101e96233b6f87e6de&type=album)

*(рис.9)*

### **4.**	Установила курсор на четвертую строку и стерла слово LOCAL (комбинация клавиш d+w) (рис.10);

![](https://sun9-57.userapi.com/impg/3vcEi7dFVtPg0pQa6GfVbgf213d8SA65ADTE4w/tij0M_UPGHk.jpg?size=748x177&quality=96&sign=909b640366ae66b9cb5342f649cbd056&type=album)

*(рис.10)*

### **5.**	Перешла в режим вставки и набрала следующий текст: local (клавиша «i»), нажала Esc для возврата в командный режим (рис.11);

![](https://sun9-55.userapi.com/impg/R6O90zsq2fQTWEZx38so4lo-lMJTyT-X6cVd7w/kCQyk62YfgI.jpg?size=711x172&quality=96&sign=2cf8ea1350d9db68fde824bfa100bf5a&type=album)

*(рис.11)*

### **6.**	Установила курсор на последней строке файла. Вставила после неё строку, содержащую следующий текст: echo $HELLO (рис.12);

![](https://sun9-6.userapi.com/impg/v9Ie_O2etxBL8p45Vh1kLvv3baaexks3bTT8Gg/W_bUERpbrqg.jpg?size=760x189&quality=96&sign=faff81f4c35f2e33d7a471fe3a63178e&type=album)

*(рис.12)*

### **7.**	Нажала Esc для перехода в командный режим; 

### **8.**	Удалила последнюю строку (комбинация клавиш d+0) (рис.13);

![](https://sun9-55.userapi.com/impg/-3kPBkFbhI7BMFBiTCb8o7sWQB6W9SDIu6orRw/OEILkJd5Cqw.jpg?size=597x198&quality=96&sign=e84493fcb44df575574f5fc9c61424db&type=album)

*(рис.13)*

### **9.**	Ввела команду отмены изменений u для отмены последней команды (рис.14); 

![](https://sun9-54.userapi.com/impg/wKrvydlzkl7YGey_-IcoKfICpRH28f5ChvZbjQ/H7y6OeWCi4w.jpg?size=787x481&quality=96&sign=8abfbd77bb1f4754005714879ffa669b&type=album)

*(рис.14)*

### **10.** Ввела символ «:» для перехода в режим последней строки. Записала произведённые изменения и вышла из vi (комбинация w+q) (рис.15);

![](https://sun9-35.userapi.com/impg/zMZ32yygZD-g7Ala8QHM2MvG0PYrC6VTm0tGMQ/O0SPoBDqcqQ.jpg?size=832x538&quality=96&sign=2d5ef815bade69db60ce562003e541ee&type=album)

*(рис.15)*

---

## **Вывод:**
### Познакомилась с операционной системой Linux, получила практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

---

## **Ответы на контрольные вопросы:**
#### **1.** Краткая характеристика режимов работы редактора vi:
- командный режим — предназначен для ввода команд редактирования и навигации по редактируемому файлу;
- режим вставки — предназначен для ввода содержания редактируемого файла;
- режим последней (или командной) строки — используется для записи изменений
в файл и выхода из редактора.
#### **2.** Выйти из редактора, не сохраняя произведённые изменения, можно используя клавиши «:q!» в командном режиме.
#### **3.** Краткую характеристика команд позиционирования:
- 0 (ноль) — переход в начало строки;
- $ — переход в конец строки;
- G — переход в конец файла;
- n+G — переход на строку с номером n.
#### **4.** Для редактора vi словом является: пробел; буквы, находящиеся между двумя пробелами.
#### **5.** Из любого места редактируемого файла перейти в конец файла можно с помощью клавишы G и курсора вниз, а в начало – курсор вверх.
#### **6.** Краткая характеристика основных групп команд редактирования:
#### ***Вставка текста***
- а — вставить текст после курсора;
- А — вставить текст в конец строки;
- i — вставить текст перед курсором;
- n+i — вставить текст n раз;
- I — вставить текст в начало строки.
#### ***Вставка строки***
- о — вставить строку под курсором;
- О — вставить строку над курсором. 
#### ***Удаление текста***
- x — удалить один символ в буфер;
- d+w — удалить одно слово в буфер;
- d+$ — удалить в буфер текст от курсора до конца строки;
- d+0 — удалить в буфер текст от начала строки до позиции курсора;
- d+d — удалить в буфер одну строку;
- n+d+d — удалить в буфер n строк. 
#### ***Отмена и повтор произведённых изменений***
- u — отменить последнее изменение;
- . — повторить последнее изменение.
#### ***Копирование текста в буфер***
- Y — скопировать строку в буфер;
- n+Y — скопировать n строк в буфер;
- y+w — скопировать слово в буфер.
#### ***Вставка текста из буфера***
- p — вставить текст из буфера после курсора;
- P — вставить текст из буфера перед курсором. 
#### ***Замена текста***
- c+w — заменить слово;
- n+c+w — заменить n слов;
- c+$ — заменить текст от курсора до конца строки;
- r — заменить слово;
- R — заменить текст.
#### ***Поиск текста***
- / текст — произвести поиск вперёд по тексту указанной строки символов текст;
- ? текст — произвести поиск назад по тексту указанной строки символов текст. 
#### **7.** Чтобы заполнить строку символами $ можно использовать клавиши ni(вставить текст n раз).
#### **8.** Отменить некорректное действие, связанное с процессом редактирования, можно с помощью клавиши «.».
#### **9.** Характеристика основных групп команд режима последней строки:
#### ***Копирование и перемещение текста***
- : n,m d — удалить строки с n по m;
- : i,j m k — переместить строки с i по j, начиная со строки k;
- : i,j t k — копировать строки с i по j в строку k;
– : i,j w имя-файла — записать строки с i по j в файл с именем имя-файла.
#### ***Запись в файл и выход из редактора***
- : w — записать изменённый текст в файл, не выходя из vi;
- : w имя-файла — записать изменённый текст в новый файл с именем имяфайла;
- : w ! имя-файла — записать изменённый текст в файл с именем имяфайла;
- : w q — записать изменения в файл и выйти из vi;
- : q — выйти из редактора vi;
- : q ! — выйти из редактора без записи;
- : e ! — вернуться в командный режим, отменив все изменения, произведённые со времени последней записи.
#### **10.** Определить, не перемещая курсора, позицию, в которой заканчивается строка, можно используя клавишу $ (переход в конец строки).
#### **11.** Опции редактора vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме последней строки):
- : set all — вывести полный список опций;
- : set nu — вывести номера строк;
- : set list — вывести невидимые символы;
- : set ic — не учитывать при поиске, является ли символ прописным или строчным.
#### Если вы хотите отказаться от использования опции, то в команде set перед именем опции надо поставить no.
#### **12.** Определить режим работы редактора vi можно по последней командной строке.
#### **13.** Взаимосвязь режимов работы редактора vi:
#### «Командный режим» - «Режим вставки»
        \                 /
      «Режим командной строки»

---

### ***Библиография:***

-	Знакомство с vi https://www.youtube.com/watch?v=6H0GDM8ExB8&t=185s
-	Визуальная «шпаргалка» по vi/vim https://esystem.rudn.ru/pluginfile.php/1142177/mod_resource/content/2/vim-cheat-sheet-en.pdf
-	Руководство по vi/vim https://www.gentoo.org/doc/ru/vi-guide.xml
-	Лабораторная работа 9 https://esystem.rudn.ru/pluginfile.php/1142226/mod_resource/content/2/006-lab_vi.pdf
